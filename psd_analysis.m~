function psd_analysis(signal,frequency,median_frequency)

[pxx,frequency_bins]=periodogram(signal,[],[],frequency);
pxx=10*log10(pxx);
plot(frequency_bins,pxx);

pxx_sum=cumsum(abs(pxx));
index=find(abs(pxx_sum-pxx_sum(1))>abs(pxx_sum(end))/2,1);
median_frequency=frequency_bins(index);
% draw a vertical line to mark up median freq
hx = graph2d.constantline(median_freq, 'LineStyle','-.', 'Color',[1 0 0]);
changedependvar(hx,'x');